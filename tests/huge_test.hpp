//   Copyright 2022-2023 symxx - caozhanhao
//
//   Licensed under the Apache License, Version 2.0 (the "License");
//   you may not use this file except in compliance with the License.
//   You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in writing, software
//   distributed under the License is distributed on an "AS IS" BASIS,
//   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//   See the License for the specific language governing permissions and
//   limitations under the License.
#ifndef SYMXX_HUGE_TEST_HPP
#define SYMXX_HUGE_TEST_HPP

#include "unittest.hpp"

namespace symxx::test
{
  template<typename T>
  std::tuple<int, std::string> digit_tester()
  {
    auto num = random_digit<T>(std::numeric_limits<T>::lowest(),
                               std::numeric_limits<T>::max());
    auto h = Huge{num};
    //int success = (h.to_string() == std::to_string(num)) ? 0 : -1;
    int success = (h.to<T>() == num && h.to_string() == std::to_string(num)) ? 0 : -1;
    if (success == 0)
    {
      return {success, ""};
    }
    return {success, std::to_string(h.to<T>()) + " or " +
                     h.to_string() + "\033[0;32;31m != \033[m" + std::to_string(num)};
  }
  
  void huge_test(Test &test)
  {
    Huge s1{
        "987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"};
    Huge s2{
        "232534735324826754232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230382174827328990230"};
    test.add_expected_eq("Add 1", (s1 + s2).to_string(),
                         "232534735324826754232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826755369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552220189057312481076369829149316644552369829149316644551");
    test.add_expected_eq("Add 2", (s1 + s2 * Huge{"-1"}).to_string(),
                         "-232534735324826754232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826753394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908394520505341335909");
    test.add_expected_eq("Sub 1", (s1 - s2).to_string(),
                         "-232534735324826754232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826753394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908394520505341335909");
    test.add_expected_eq("Sub 2", (s2 - s1).to_string(),
                         "232534735324826754232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826754382174827328990230232534735324826753394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908244880413337172432394520505341335908394520505341335909");
    test.add_expected_eq("Sub 3", (s1 - s1).to_string(),
                         "0");
    
    test.add_expected_eq("Mul 1", (s1 * s1).to_string(),
                         "975461059740893159506325259271757359037189458802621558568053658333485758098917857864349957629782057395214157160646256926078356691510456456942556222374655987806755753238855518670955284103055049535154814967254580399354345831454111263553876695653642127753407559853172991952938424052703856152469288252234720352000152451765584551531016651296448751061880850827312950592745050358177150123609249889041349654473449419905549185337648950769748716201848481633948247066048012498147777930247543362347308794447074226546839658646605090746370522846135954945901387045666819145432251245197683344963115444728547544493979644259411744024843843790275943555708043321140143086572242852004342617436442382868542148300641913732741679164841444596941210029040975461140740893240506325340271757440037189539802621639568053737382563719617131619851699520086267420320835320555403220789971121024539021259106921493674821728242721962810622197378522431946422666514322901082223135650123370218023604785923839353824073921724308489624543057524777625425012193325246761225481329125715897025950464926185032826419600726654168626888736527123304427357872327592440227827008128061576028296143928530711828765279728999847629234415529468983429703551329938119230172687130407255030641822930876390831110958731345526631580094531814662432049230332283798232518366132752934032987501933222069833456637733691205633925773534160341434394909334629477234864045135098613035333180935567748835802316736036884636271452536506020436740588336975156237209724137444292037678859937913427838147995738382563638617131538851699439086267339320835239555403139789971041");
    test.add_expected_eq("Mul 2", (s2 * s2).to_string(),
                         "54072403132587231538257606379350979092035848002456482860846324038094038437016722796214052046811960229239673781997597589971621232777596420385309126978472383729190418743232611530944471959347177486759604708868802676579816940221971244328790674504993822215161921096765001897976640141184967850506901971558759467162605777376113485851882846352517036348571413567259121196863721146274605534537049758404756541844595940032174720502685949550391886825470733789743906468322140696027231806345527547313092433958331841662576787220321304882278399594522987297921768095115062451464365230714132933266748969908820020650330866905278568611729844702577589836296503096424203956710719496335159022262139287569839301691594290092728208227775478715474646672469083850297394193411669861109991653343877607866580159047861006745336634218671365435766124684052152380681615093465123004952090320243298016026595968258880574138055956434443651371576843052638143324021592625589286716557717846395712509987228816734922061538592640153281695952865007880557406519467433910850881918501199026192751500342227668420067884137390171828096481217021425989253849773581317463441462091815183558439815409772463098786442966608941127625781045963608734131423841402698696811746682154754369476404716196456265997712318345900004821385590990213835183677954537045640166366465783971404369643590728191275511347340577728973555609226919336910856328215371486542741574863110482546201309090165244111927540499301628181546289964959001681113506135492773816891270839752759250299471771683919452236251714546516819485437407875065087581232589340274388671403044066210722926213464134031957857368680257356358271194338927789527043334316448501993616175213721547096229299952639647628961156088515304665484858627207135020482617429832761579569500326533265961149015664892682970383534690342120325804034790098925401197569054150974690459053915305167832011603417959829055114073040511410262825637781768683419769092165717652693639672145577537784424111290923895124453706509386392149079130416130137555267740873195246513734149541336379986081775237004100878389168666542622416895809600812955243044187791748864847709843964621809607699206916955107278523878328430663972354226042161349709337912692239518337009245167367592140151947056048372701664264292573834570965981419857227066319283417780077001780015783666081430974302542986319432594050147474935795629321668192561863408084511283790160284340793398804294222118875092644524939359918605046725036153238901498889594379043811289155850187602710353254249398169017531586664221966519207618904417294223774017478256330328061983559436419430016448292290694136916348214455544636258879106325057945770712869474669842501309920359421754625077524493795048743740734393785563479442179512920254986171548428149372333806834532045461228602362462513181188171489551170667471033176496876990042536144570295873713463990531240798896900799589421079955894804565604607751265454608546286198325618599968416605630109627671492440756432634332225459994764646796698683187246668696034314359419665921904925618060703059843168724074685047111168048874737423652023088729704172317410479688771787460877453384723297523652910502806151269731818039742422729895341316840515078586182694761547936137772130874878887440547349780673142380202944909242696294912004799798348622633758943606505149276659818923554865064572977970314003641314838048761107495387012334122858005969857173967349926201046697931712370624876299173592357015081061740566735302287581514849297578114991435452900");
    test.add_expected_eq("Mul 3", (s1 * s2).to_string(),
                         "229663936355820418749988388876144871418105525007011614462959380589115863131076516719982606175930372302086854844047508432953597888901364015057846557018500145924589601872355728028838269989491858895581314843347440999829982960483571866573027814339153970821695931475284837564740785330866941813408902466997808556453756322579912805121873458710779548166727314292883796834844450423750539879698306005854788547815442136721531592669297718825780260786433849692523305640289431796771973757425562663515018611281144767763686728417275634506731582272857738755399699408988605498444553264570709747112670400701576490157524256283680738825641392414547481870495247996651730538612384127518473583466239709622722251583375840489465296437231422593713964554367553460457009408223135564705677525359266431448722379214848535697160832414623582021685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817685361817833154501295904107980227284391321194935373428809216946267256292678350203222402437096245954554285300965379211509431445383274962841314309252408219796460453670303971128343317539437228083489461957332979415372325826466236370518470244361987702401334113495244657547478531390995989430342400524252944576486818420004276459350687553261231605495105449012563488358974582269518634503392478020850517367261611277805663511679507029137546375548640286092692519966536037424575383835669294379721528253565045711604392122698302666750536540594053998633400409727310953779544827623062285662408696756319240808553114652070572691416983785327527837561401681078859720425270814335814866569688710087146749433557843344101895577975739095433778441844872352388924586262768103720807450131901360675953594549797112007836458418930368815189919226283830");
    test.add_expected_eq("Mul 4", (s1 * Huge{"0"}).to_string(),
                         "0");
    test.add_expected_eq("Mul 5", (Huge{"0"} * s2).to_string(),
                         "0");
    auto[a, b] = divrem(s1, s2);
    test.add_expected_eq("Divrem Res 1", a.to_string(),
                         "0");
    test.add_expected_eq("Divrem Rem 1", b.to_string(),
                         "987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321");
    auto[c, d] = divrem(s2, s1);
    test.add_expected_eq("Divrem Res 2", c.to_string(),
                         "235441419278002651403079297713407178074147334132723753763179764483905922239516099830656644191955603353546224253645596055480025489145311087331352906973281947313429415497393538251951876336774460196385759086356583957089838265460235672277186892907941109507946301055009321832252222288502792890689280012725034595280775878964935970808503224223544305137044507591732612950668266196767242112379220879540929034570662245718462161767330628923577662703379137866803200615476365937975840990699160638211700330833759691533873568779685230985693773424084773501494505255089969279751214195409055491852951730210488698812207702670793073012180010445998345309263832089579871394445175466220030746511061021614281032794745345740661123017053141907956131291074407009457009751193193323779380648376616392490732133905271793995715108918193157403106478674723060355157091593277837545963704653487345030422538034837019465444214879493838652597456864559832980072679710560982842");
    test.add_expected_eq("Divrem Rem 2", d.to_string(),
                         "206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718439070599424993424139790415416666472588710691429156900139790415416666472588710691429156900139790415416666472588710691429156900289430507420829948");
    auto[e, f] = divrem(s2, Huge{"8"});
    test.add_expected_eq("Divrem Res 3", e.to_string(),
                         "29066841915603344279066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778779066841915603344297771853416123778797771853416123778");
    test.add_expected_eq("Divrem Rem 3", f.to_string(),
                         "6");
    auto[g, h] = divrem(s1, s1);
    test.add_expected_eq("Divrem Res 4", g.to_string(),
                         "1");
    test.add_expected_eq("Divrem Rem 4", h.to_string(),
                         "0");
    
    test.add_expected_eq("Rem 1", (s1 % s2).to_string(),
                         "987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321");
    test.add_expected_eq("Rem 2", (s2 % s1).to_string(),
                         "206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718206535864100166669907255680091839718439070599424993424139790415416666472588710691429156900139790415416666472588710691429156900139790415416666472588710691429156900289430507420829948");
    test.add_expected_eq("Complicated 1",
                         ((s1 * s1) / s2).to_string(),
                         "0");
    test.add_expected_eq("Complicated 2", ((s2 * s2 * s1) - (s1 / s2 * s2)).to_string(),
                         "53404842654158557792346159544029319219859181186384545098361858751551604418211257037151267982103994776992709132413048403767706381695846318283529362464555286233860297137413375424065108365777684549729728428695948414316370116715598715314675569694037254283147717369028730615138560407641943965441167737974595631117400836762483363250467822436310362612090981398872476575617622413874809622630841551111305416617137907288972149020417219199849773466368916552850191259708403138109646165315441666443749348715102926085034713977482629752823287437318563775939112355039442777413075875050051182359360448112105517518714028297388304295458256700617973140201897060575141747405780804980144277539481339611694715203020425192030930726781134497963198849975561253633099763796445233947198346646213164950784650527271819646660288189726767426193040814070225742525029952878152187603611276720988587873723694226845928952305018069682329222417435575539670300998759418376070571111176924233411649692500767069811919804918272927152998386242115763553268498659621620894347079983464457294617192400970314635695773724813151035965886142319008377044467466161844777314579883667702118393161207510538518663273625016395859741854948859232260011967366365089601090548690207926001360661107713783342439242431556619742709354849062477083787936172905313484058048590411170825136629914254007225406742331759864566485323655602700966755436073108558307834017396951394708104129814457252049182711138300088449452823555805945790531404879648782190801517297154639531880098620997475932150211038503333273228792362346169673498904779852027014577486103694863414847598521200720755926179845043557156196292262549414497274873586392250897544986003898108238623567327740944638893679745246801980040994934222285005035449482722799224411038899526866013412232640810872791023947799856376976364222230458033086605157269154188508284512389073493951154667307420300609173103116657255384672477914654713279029994413209317387158589090857426517855186278729679958613000836028440325648678713218343099035713150167754702410471716675306808426726033275369648140565289100571086786039485351285162838959430494135934113653506395501246505654140856001350409568096408017899140649420186167335673783255388835120743945268484633889906298983337952911315541685751401013107115280255371270855438671986468705276232146141090199363636227189836966413649580995109696840134351361505796519367584817429763284933044501475195593386157608050398698032306609745163635705299366971603079432137686315700646325010094193376429132537731186806556511424657069093954057510617054978482382049365004738212269631859147397133688308016310996863575890510453655784994566667617255514882149161759914436300825318923514166188407813066173087607083970229772817494666464372431738913342621536031468800925115678690390219601272842290120107183766984949041525859924148548771413442418291207692832118575454807422719701069597466344138377226761066074025959720903724995444635878067324725332218372209983646750894529373583376638477023516242298057153180679842027944735674822500949363411831986100679250994326128759600669670483292359330557252977435018251975929134598617981863511628741276903282187785904876633169770280047535554588446437211135284476028931353794205894705088517393935782287582660052857200963739823652587088546233966311508507222391129911238394804885272570159813481042436169889701063536578828811119739693742428541007322187885087462425998345048687192313580839191346113732256996354945865735550263521376489358334046444523771399143753818982595791246968473356105207762740042248614989926129371003954866097242115230150038320806118367320374147260037927200936430998715446201731912793810339767684256707162240598939393843432467850281797931458750511996590408904311448729054671604975940903502490225870563026026927600916885660130087397145193172714699446573346266473200418135339169117987141945322722531829288841001015236790687032815028305974009262178711071110081835823183795634579398872256620945326354347189000810999251081651886296420588387043921503268818806896867163364537942748557711388102047991563546158203014302909435357100804935975444801583601706976675175815077730102859294679704960759430844244866373945789637491324064257702362390170867504235830018459017471489730250991210778197872261087704690019924055603083949276980900");
    test.add_expected_eq("Complicated 3",
                         (s1 * s1 * s1 + s2 * s2 * s2 - s1 * s2 * s2 + (s1 * s1) / s2).to_string(),
                         "12573711950813504953243828854388839452506595924974779471884483229917727102618813252487718206227223324798716518424278503162927589022938080319879232863597024514583620271627496481215245936768816542686299973291573282724557643793879247235628127930310724407167984672212628231604735543708806263076959403816685674229796131767528292284567988691419563503309694486890494790810426836829899425276231866892870595686718252916681995695743907535419699196862939679911214568230608818142101340860897119587081893691970741037802118712125235709597672127993304106801530416624028278761903538676507349099575974393497294574587924020350764696255385433642757035725284024834353591568649744464666145315618689958115785515767325963021903358928015722051278096738178137824309855212002126160069311562300989073364804470649170442159160239694516769068206703956854897547642770358720911420061911925179526234759154293601500420370094554144328220509391499158536069131251843749303451488639321233460573999224249965132868052244535917402213650631653328169551351965702737054924028576899412560017435824624383438767009781290287408266303821300856553742594244825952714297955955732156399850781967506408478112392227918282977091572949331654699709612637859236285464967190301691379089617185555016324970964690416518516252405871005623095609565449676136111197978694211056597380769468080544163926335655171316830284576745629742674437476753886403794320987282323731642731401990356317489490001078162511068808111364581057915791618133146080952667604876560625073225838447274441294309882526295018961792662020547592093734944313784239581492088852965533350942790239028286932324118944528265065933420302027161014288752295235787238706834502780861827385988905088099869263032841289389371640102972224142669627769890699687515989342097102029158570094766507222713337815309331124379370940122360892065596721507333505797574517771673208524558721756014606869180827714444172090223816055374427594189869950673782762592004405412967972601644480362040541663286806130228004416151303508945427437663257526207689633390420114497419915133759600907028253361830178696519095698312354326020276065533701542724979356915786464665701501530683036037566109569897322964529669821123176456855956274686900916760570405021963982848897030155198522394203282379398615544931836302215781430568453195480354944060693127952693869665917470209201046283600632409259711495675203585153851600558815585478956057726395608213360011567677481351603352071046278379571516627218096877653378709155595652486115737437432057106137640723560032103808898335486889961628865750171518424596109912261376219852384235430111448477372167755515880808196179335811175452685101969308944496301581888617536788183582256130617840704315785027648601373918021963458903979896252222220643679907577495127493117376279794527479467607552111230513979346653904569108737017945812731384897391125153315046458259470035777190884477842414023641165349808778504342192301819808713942950397480201912838820863057337385951813402484306002680770161555000039667754364821090773868040197312796675090773284490556226400630970330727292220870161492702360278542480608791891058044995827529175501774728146990471602297787495036672070327712945323033853628536495224849984201435003789577812037242828093709243395894322390103477523906493643249847911090901124610850088527491873471797747024739993099929731105822784375092903695838995570716451641486375959733381104198132023210250134482648225719179249817402457411126584811601188671161130924396846263509662624435200695005340037804155425134321941276624750271319843090155546428267590301472013308313183379051034293120793095864823794824113710841888728881549656912926736101382282619564825187725676175067093240542474609016979986269159242014111156551920753094916951625623113767789849410621051798636083795067790328129319118575505128137382777493271695129565675784113083420848572899557868790589082246875664486481181286648849112389337963792871334280602654544636094966442934864703964246837003245229738320397160091162376379884332750630042451200639472246570679744643060837007358853373007956547146417934175850633043355360698292305779904206095670919504706602543253846580203458820297866742907098542841169547315692349731474757956848697054274681240906683971743549855853005893161981979101823018673118604111469357831449530277766872263464201624087448283083894434515532514586648390860164516885071572068999426485944411787506532853061690405157288389065915145154512589081473204135181754320899835166348982109293711284744056197901450628713718267585248132040359815230445607933846129930814677070665172886820104009365696330410919834972270870574116940276966784036860333281109181707646726579941291692498565591687820220693368274619853377834531904006786113256865361002469092868232218066079385337217839089138837599666533865700036934425708879862612028834851405648068048488970374640416155737170685923478679407623573472249980373491706526268827181668476358113502743814467456438491811105083298006722848138968713987673295933394291929640686465210298916371636153409339882256258793192211224586831765128441864569565122914450912318882768551597876580605454377017979567789163678807918289379787579912426333550950510071989695888122523134255966932582900646973353176063770254138912122556704261");
    test.add_expected_eq("Complicated 4",
                         (s1 * s2 * (s2 * s2 * s1 + s2 * s2 * s1 - s1 / s2 * s2 + (s1 * s2) % s2)).to_string(),
                         "24530332768834549254307258095383807393005905253680596562765336334858747209838646618752496452100085960790040708952455230477290068042757859973127377484117096864282421455120800076671739909192499195929550426526575996921347930824745982270520273910009857706780479740172960927423541788951010441643714248143097105380002264276034122571020241046583592536655019888735329223011194300840760067727322720148224287528166350516562174674022728534553479639798667486536086177552899383645541642315750853802058147929245412412243059525126949063373722750806565348380642817349330606343267199650014531778371165998784300304374040870159623287451127683323597621863622588627866786316842038189533687783875954274089180630031725850726921410315143180700403280002436003378769246037358657693414383642885571273705021722831242644152224759281036680721081118627933096992545592499424652745922946936307143768321922010913014281508934583854667080733171908481799619017592136432696051760574029174098346593977425379392755935394690714281025155565254805336240561317183599135188392247401593522525714441771097865342766332615399364604243285689252092967512546618650692441768783146875856514638032106547752976684285325555611408922348747063210120155560379650230047917473180942144756120793436291001801947799021702054741290586595381633014110136855632854905147958929598247000273714241796877049948346484389384049080175712028869950719602277976001421943582770935999355261996301351473353050413895897847984148215518281591049359564537066415530723363865304562690602347117366118661104962251731013429282491032493791014182948559643985390676142650918683226150010412733486927139123409266270200855826585804342909335975670257961599919515043471200907585947963045480187244579925333812131343175515924279815409531195174455733393563439262891148033237897902978595199870359592820013782634119446175546282755770382640618644349094789342073163821117039028470874451061767859143257760096555989997046259176534358642296517324244782542050343513558723374329288333733914369094525065628087061722519576969144659703875743846834345159908424213483513720718377636600783642403164047191949304626714736272854488203003367781902932425421201987953332758067390016229398190081407134394128769399645908701813247198042351409146188961984724011606174192115529148972219634572977768522799402951808682511315215894436500626202088193581996985180422750117654296712423800491997932770890258289594231911504049432509210293171854471603446631341534548272991204739291433883272954867167234949766213982639197553360215930176139023629140046402842926295596878451463686133382936549831631125195308036663589795886545038925885116229651258548409335043948272002069213778960644177423784615237091984878141295201337689868709426917484388088304979420165974061357054577117474557793781745638667400657822885342256226379401387948156367224805593192494115516286638969576523353825533384698328341634872260812513023454620318128049675392543062498061895013850074791546020255188298015977312573300419446165561667426573498148302952130799598338167822958177825545575718582345503575389664565082628221523189977870166470460884110942285310220432721869340698297922541093925027425262300521529015499969882557424670578243281687983260348965244035410618802689314912704352809596815913258332904663131422442294529301870259092355372976544126696168838266760823786357736260529558810003439128132868810198634730174362311708646439548420382547068203163026453441505568692204419101777147128660304848539414628324866324088186457982299501955722878254714394190860224459217605283034330306991657552412989106342944161332605077082638591281840941709788305365370425257288210024001288562629459064388516134638993945773152895041049110503197082805211102541223449678184933639998218982812298771871718277658712806132409449431088013151941657945376090495269564383772894801109719202600663665163768669405128238961443270812777903205584969785506567984893673187767153257617649463904573417215615650047041931552755739278723244635986873114878588158018659667168202463358279549655337282851022189741775087984041012047037858348373047960195981801078244411297897289007525022447698429061070788474494133969985810261873170408396901673825027053876888119223010288210156751147794801726503249546616617579642310801946505144585631663389888358856144160869273382770966390948024737306373367058818067421170365950109252503793314138188931483902142515088059077235619510799733584068388295128298808510129294573049418904408566778006553477607924682373002896426923836135485249738153552116667781585277352557094189121050857611062547943855628061187909276003525105153434481204214355891274640715731766223931094185914067646400571208905679874778597980780741212653341821725850023968726086118839666650145210122198906744130316483744402259092347275567075598380803681755130599212523617713400275965996770089880040453346831315067772292662056884996203680741849967582333685883101195141960678950858184765457389060712993297434150533291398755891563912953170759997716365835960009635290475133537144275915642429137299938567099816820382144205874259117717302340931903815359509986792230726657992019166204608115740732731573061313790558635575569847493001622471624742235416601566722351030455200635856520393358272794058712931858709409710922905906859756311454318476613744885836456321815664222181651642509030774468740290244037114750895821052526885912259342124480762334761028610047479725931980209017910878374254319823788241093680022088279099279460092504016561496889860548558487437580611153342563311030793672413305226523331253916895122496663150480587441168480704862977934654083090370141293369059822277005167842440016664546411950841339227942659373892870919154842712370405757528663533373011662091048424964588880273851578584214394251908832713872583461311740002671589306720652480657827146549220876992693697197573899762544157486197228204126637470259378421640094461817849749280114086344096286993330232204307488518886010436005427455009970450939699180484624115830328849051266624857075575213725923993732991745071954832626974733173856278271744004527407100884169849357882795778452291107448183370905970404808169628045196678662073410736777852147671872192315912919784571290092163285929870035083065119558003220961384634798563742159973186862440211661145633360478509436058074394198971694658747925722560028323762077179237792719472031987144281357257062863773913706326444546539767328593730318371243580859156258051285990833686191848195887645387562010864680065764716050411754287586481777758315406027705850759891415428623738449398997764559149336592685817177306648016011492256873465734782882914923291834644955362977698777417984192056546106123126024443814763329706947201803664698203971280820318283864701881684927649616516524949651073498560646037895284018556239664553518877211071938150935292569515654400474034004253888388870103669476544328578936137777694000");
    test.add_expected_eq("Complicated 5", (s1 * s2 * s1 * s2 * s2 * s2 * s2 *
                                           (s2 * s2 * s1 + s2 * s2 * s2 - s2 / s1 * s2 +
                                            (s1 * s2) * s2)).to_string(),
                         "8338974048658669676384550434616629172669313182107958638111795133100893561756091336610345865210907296809881705788532042744404645029671598166897004762805309264973324847037143297358345680568687830419018604197039924498840189771739325230612699467193086049043590228933234293366828975562083367352934703057819876972276262849375925933564548736074803950044447350432740236842368879006490041220361205639760726906615048037654731456950604030266311907637650126629077459915588787536149549483137757533326094464511381529967856742931228158436188173874843976809910982622671163529296276297059158175856720159982195508616247612050773896762578144296747594889328711078597732939108106856000334507598605922164644060873660030531738156412374022482929916684742929642608163431119176731988818396804413118809297100852235090268957478588124204878290182394499979917750464814334869203325213458406910244825862081595310193313145918474235690436415672491638314413191019220933090031678084400061210538845584659803924217352859187754820564667475172931959199331940083819809070757784409661188248399254918210774857470261043971671484146261074687307368979904608065702437604135756814266745369597934871146993575160439873041988936129202787128698905885923589257209799406176876844799408288391396311887947933926432707919229690510714836566013533905453130318868789854542819887933581727692798702176317836309376291333528313639048841385887601668432866202052244522806399992720384697018909235870128293513256135166711816342532101006564373507364036261524672435322792195887958468738029970793196838512272054280646784502729301502116592363636723052262030462965105676966350962735276545508304587807907890435651513757098125170089491072129627556142028520178636194524096018705447520498679554390195727142289469658893249102038722175010803635888512617977817495251323479912140434777236012040128207098737327437990140381131756254677454696191464667553144371318773748865598606816899904588329427428580318753550950840927188454919800902584135842467038308686443520196137379823217312253560568415149448352479717647881781031979926974343207177330239073383240914517046784415401000424873345957088724163366751867770959564048216125703888883790077205090661120006142654266179986548984214779168188737221164453245522530402041353951776949043104312011535427463690353982910427943536958987016869357897577527119787190048832312527176585674400427402945599989993037622590028288568727480734849244454598483730429962194393952795352787707794467659936164724643825389055421503730707239207048403972820932770282559117496136263251680248417899847236998780332279636193061899954470156441164049538460994218556590001523743388911532603118701185490338961598329210552374281866341466658205819916334965760745621249517143129010035055848757439779150072554458345137136240088432279464996981475545979267999306871136700836444250330446852338538957421176721776210693038354425235295952495017300731479816569063865647826946158855913688374652968448287495888874416974064987474725470302414532747714458881985567121664374493218629379471811508326130278902405420605073175008944979283005336373923064220635600342806018618901385177293673505602692094697075107207209236680527198420283873881947036950551118487145631082463516279924566020107318675884324886953281610309902757194540193970609694885336367602530547102724766766245364813116044651966624743073405381083216065184861803224023990359639376119063417878856405471426687592988061016727556201969946873024594779136523632725546508493398667795611280052809240047097518385170578550730357080359935791056108835856800895348037013447809048573418088454127939717518711088688157630384690926561129416820043302436373951441621634095028902970347979030536943623329291141951694458548608374925520313551683756224761008144886586483423330395329203984567646149346622105371860422012231769101411089416693508655801047359338351393063167107265076329139699174742394209612164276140545429207621541446894882686021719850704955851453008505582564966164676256363690766753541296427572114595697978747321434505305303223870812528268963187756294266785597811214720890987171474977976118213902912909359392625083553279597798782798778704083002906370395574775845680412596111322384104838408721671165301457216636533988229544002530444656605974145513524693651744634608841926698052405305517581613713442043795427853171415313777705666660848968728015400442170062376277207966351063221075280941553374254054152478781891086438678918351728026279804100742395207823737044311667172513571368677836685410781471695399404340252143707590768829925226890314798473431808006333085448672050545289678509892861927437490452931547489710259946853624839703916744360277985976862204627231005512982901566812553941061027724167013561787210299847242123694776378379104816495297424496173571129850931373109659709915939013428129981701209872998469909143218712149841474496740061468364167471954247782223492344494766596475185677677714535421127938869182384919349938342169577565170713725817968234656117130151261935686226937298823469300335791836702588135660237391123208197603829481184415720481322277666666658832507305493255397079883588176584008102713495023410289032393258219813261802648095130364184293112145016500094405085222412003814437717456618514305676217949087066837261413845221780578384060082770667055417185689686612077810320419290036292880783391551644414226402499972654611798719241797492828630621945144244803276385135206057152694916795573123177210926592393036707193149313561069784438458061881848851228355737899403659143795444367017983944071418415571050809054982027490301913957372247678365994577094106870458135089869647054370846905021977075518490497019464271584807976543705413025574120755725734244475447483844933462695309126855949733936158278764082962700202358144941964163179461324189726963966796000938839231628601102157309520753549365471671169539977640909679807513419401362198217489074391636804903386553333937295209486309327095441731016613226870998796369473393733009188611230610232661466804867014746780490745356134490817162798868325470829399118526168160223307480134545221999420067911569217153947729003308527254557225133327744587085111689910258557849816137568598737043891793231550715281882424542259468511283310081296860652822333845331350612347771732556913535101757830619900901000384239867679943502017860985530060048273256991322969419170318943856730051449759787290666721338544855791378048528605499173021646421236129341693390473253666766520093176751570443396443495064653384975279984949961862855511417356149145437202615004534336486210589728451601870039632540170470038049411420169115814823139251676023964783668828136542907161771094247487288238211818777176893572287191359291699704986072889428685045660640494068013687655204511373720130893318776539407152778037515968743268704494721422988304016228390458148485554529650124072192172969126194385120411269221444786362389343657080760485609780039454239430406581091188819240540464908221226388045883584926571704334330896683906956017397422875600109262632476820292672745275335126859198530509049940675418293581339495630091690178089277695637846622023542525054933965001481818133140117746422150541570270966024971239084670877237372233003379344342631597809768813896886461791972963298666556024513358164617020472166484319888797919403727512672666683411133160383713919217309419367472049726805285576101033339904234816850633157618775052492943421173839708342588995495165366195200004059264181543303213932014511952969799051213335957781700789168466105683545393063719024388274643747146084680921566351229091194114076742350186533736754065199742205123136833694706151653397196012559575899184580270740036183998985890593219917354848940180258724205842259172315572010978529394091108933801552739909369091970425107300192067808721553381004958430995792069557913992264107447118899655338522343673453793379292590208802620025134823702867874509975992708251279709592525546816780606854188006477618436235130193314143634444726029986146287407709443336538944187086530439674348595588792763912945413304789363369921413396906710335884018386453774857653295642493534523614824468529222460723749762839621140713364676220755077885260455120889185580754646582211455801655718512677620171610359664182523038342477159335717713765598080359849166786646175701817174085833413296227226375161098899163292531539555681794269096122498397357103364993987201380423656697970692647188020548119885911855726773492249856458669127206602687169949554854979131579481738341943886954289277611275284489352691519245978658410696430496356566875250992513526059820504332444202274293883033363136358037018995451723018679238211834430700092687604927811937345201209432318228921029198343185653442746958151208662769424996268127220976232860109661147148880265567940341915772442344563695759569187799949296899099585119691547891802347017969673618075603630089395331669703878194989404996501018413860686845324086520421817379287034048050828251881918126657845937647542835047815637325291754795084485930978677402083863102076644979947874064252017496615341004581433256269089446550118232724780741601640657935034379460930632593689660040078684826235093745129931871908492581385232079675840121886618991499367516984878596078823623113666314524581580037181763267978408295891860666806561396271565761702417561989133243475537254588597436698874404266482960074746983066988992004431385546517728952515709424905019315204235831384969233689013556336957944828384912892157927568764675245779667210587438168139282841561321231648402699472767905225812106421107213695088297316251245224541591336076661572472434926430839027619115258494276184112413245863084514675146458065701346593907989393426724659770405062394692677094169099877660496961186454204207831013839688640547584815326515226701302353235880962514165103448148900208789118566245744072880921580559452174095903867471748214316863620927512760372759055180502109339797968703175110633590007140434094082268170008597509755016848865458435390249931339559911779796106922843490683688557290294465353112898787666808581965205004311242267330798026479881219880525655501564720469217250608475865668492977846569635844407049801742250961500688587943244960476999714612933520144588731105909349265990862469850348873111968320756865971880652482550809891771702540629737808483096315482990359851282557942038108333011702856693533070711615521821928482630767950590246616489159791219553754698836670105412956323800401881203800448972401449137832508215523472605503995448181228166964281052800424549947889839902681406746004838662768850158747120220470983760598938955372763575935694047739850246845563168345857666021101518796227327741415313322291355383384291396137115971561801206524334616792258461228373861127114229005629856743035383454949584730086733887175148149013707176598560763065253575176321702277877164559694371511423960560422966634554859255479203043591170446656451344728021524496257651294414011946041284783587629598308350365102356574233193880081915040373875159903002945577391344359411010612128444745483324548869427743904431765028668025090424770983588795010540922108804357277975089074523980590614881730615215406858440356844464532333476991904725456830551900786650377832422469028537085507172730098360223102172788347352590282687925296541164347044054197913668364523445085897495993395047241060290824474406052558780842449187085815659501195895875183111656094075410533026789649320017426659865047293326778186560128883723942978114676348667695767632389415517613051179455159565526191676601597228207067210955076821341722667483162205712809988652370807573435472248451764285093179089949328173260944132790080781189620106582518864438560111730088694548642408757089720535987346513498546331729176416850347740085979058448023753057651143504618552959412030708601732210543376454178706921113750244863821679419774674774665562314287228566023078560524016278827382289899877318953246109289526123493682267960717599864629675604606692803625323614662630198492188868144978255809221009457860717362220640316734006057023822128083152179542651761161280379582993443778185974428453551866786229210067529263579862714174091761044362824804259444907951527135466361130492800306097281218459204363262842794545930814468964806404330880474801789362823724050162471782166643862333710867346717619817686088695127076967047726653314049163458552942644421622486716374994809238010013239386461024765739845447207802307383610392519978519038714901525331259247780619205458655736547071178884222295853341722642450099341444858993740783678411625315418878929900448828567124287717881927566973310353272156278198182954326021172238058156301413673728816600960889617325676839641496545395492961555795244038800776855513938248132165504872803858543496515715689446886238019973807050996618746095823374472669395165932062925788472798306760297371313390646792081499614405722612975495964901313758244357526475607481725336154615865862102299320150910949283300158758598794894398267674740142147892984291942770859586985772825048066764516368206437551715986235282222069373525771645950155903609742857021605935111292049862235451661735291801313128642076443475583274217046170536039948977482482350283118963963095152948591512090005811889757717611644229311507379745921175091239897230694242366505879364847441418009033613127553516278186836894394941129039708775652411361417215752709980261602665437661210060730539044491994054931358429204541203986950007350576329759427614073814256659398871225132116015542591971875916147583787625385787803677080634662760391734093478796415675391329912766558290443711455755157128775789622337915927126237417657937316782366296681728205445743502583832091161446387244430185278532328365454747133434975458272155318450199366077511405461573115898709015954556696373867832677265918265672981720693504080643331630672611347993810188610071687556195149284806397186673940903511040343683994123347809759978996912666897728841523612779173423519817930768879695658400790615465027589919914740589224377923137897176528924414933761154953878480165383897941380552723924736825528290487796293208624631394375550610107413400910462566147699329258916513818529858432797982676106347763317240530690477706359634611983750846786784043638275887440054877796968857202603932133312923023308174325218453634745698996609259547006542069849197717231473292959609813852718389775681684554937296433018687665500401961410226138211162827208259772758506305782903447248595637702304403959297485432548115900236209528056275049611315862814897184034661370639934325520028794900543463465908911858628461239504879358815175144665720510453203141960453942730467164666475941373343379860832490474188302631389464652121375846249671384765413669480650023585903439809541605923938502102810980285725639281240740688180939970994552585714779191669598139462514406611879686628824742940751651581252823761778466535537709359574172626791212388080496770385429972540810232505529558082327056967131790812185859206457971625917778900022803303782966796873661121464367099936031425704185597201377826727179752097411418048458529688674483303693740494012494755434445275736639112413305228441064964607029219649076379585189365522192102222859545650159540977515878095111885305535249827942198458341901816018910776861531923624500899271614228447478600877193430432051029670661039415781132034695009194674277914162528073576415096228385838122357716945312891951061289521350664023389938759313459768512974960244683131693328856661126311045418093098063528676548371908752799412241627304256455234255703545232610584148422873160315640679866619552126487894785897362765720641971217931359307220801834967554172062481736406669973885621922873614902853010046262145313816306209551382000000");
    
    test.add_expected_eq("Cmp 1", s1 == s2, false);
    test.add_expected_eq("Cmp 2", s1 != s2, true);
    test.add_expected_eq("Cmp 3", s1 > s2, false);
    test.add_expected_eq("Cmp 4", s1 >= s2, false);
    test.add_expected_eq("Cmp 5", s1 < s2, true);
    test.add_expected_eq("Cmp 6", s1 <= s2, true);
    test.add_expected_eq("Cmp 7", s1 == s1, true);
    test.add_expected_eq("Cmp 8", s2 == s2, true);
    test.add_expected_eq("Cmp 9", Huge{"1"} == Huge{"2"}, false);
    test.add_expected_eq("Cmp 10", Huge{"1234567891011"} != Huge{"1234567891011"}, false);
    test.add_expected_eq("Cmp 11", Huge{"1"} < Huge{"2"}, true);
    test.add_expected_eq("Cmp 12", Huge{"1"} <= Huge{"2"}, true);
    test.add_expected_eq("Cmp 13", Huge{"1"} > Huge{"2"}, false);
    test.add_expected_eq("Cmp 14", Huge{"1"} >= Huge{"2"}, false);
    test.add_expected_eq("Cmp 15", Huge{"-3"} >= Huge{"2"}, false);
    test.add_expected_eq("Cmp 16", Huge{"-2"} >= Huge{"-2"}, true);
    test.add_expected_eq("Cmp 17", Huge{"-2"} == Huge{"-2"}, true);
    test.add_expected_eq("Cmp 18", Huge{"0"} > Huge{"-0"}, false);
    test.add_expected_eq("Cmp 19", Huge{"0"} != Huge{"-0"}, false);
    test.add_expected_eq("Cmp 20", Huge{"0"} == Huge{"-0"}, true);
    //from string and to string
    for (int i = 0; i < 10; ++i)
    {
      test.add_test_func("String Conversion", []() -> std::tuple<int, std::string>
      {
        auto str = rand_digit_str(10000);
        int success = (Huge{str}.to_string() == str) ? 0 : -1;
        if (success == 0)
        {
          return {success, ""};
        }
        return {success, str};
      });
    }
    //from int to int
    for (int i = 0; i < 1000; ++i)
    {
      test.add_test_func("Int Conversion", digit_tester<int>);
      test.add_test_func("Unsigned Int Conversion", digit_tester<unsigned int>);
      test.add_test_func("Long Conversion", digit_tester<long>);
      test.add_test_func("Unsigned long Conversion", digit_tester<unsigned long>);
      test.add_test_func("Long long Conversion", digit_tester<long long>);
      test.add_test_func("Unsigned long long Conversion", digit_tester<unsigned long long>);
    }
  }
}
#endif
